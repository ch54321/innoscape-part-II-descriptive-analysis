---
fig_caption: yes
output:
  html_document:
    css: style.css
resource_files:
- citnetwork_output.Rmd
- conti_func.RMD
- ctry_func.Rmd
- emp_output.Rmd
- export_output.Rmd
- gva_output.Rmd
- labprod_output.Rmd
- regio_func.Rmd
- back_citations_16.rds
- citflow_ctry.rds
- collab_inv_16.rds
- ilo.rds
- labprod.rds
- map_data.rds
- trad_data.rds
- numpat_data.rds
- gva_data_ch.rds
- citflow_ctry.rds
- citnetwork_output.Rmd
- ctry_func.Rmd
- trad_data.rds
- regio_func.Rmd
- map_data.rds
- labprod_output.Rmd
- labprod.rds
- ilo.rds
- gva_output.Rmd
- export_output.Rmd
- emp_output.Rmd
- citflow_ctry.rds
- gva_data_ch.rds
- cieb.png
- ilo.rds
- labprod.rds
- map_data.rds
- numpat_data.rds
- trad_data.rds
- citflow_ctry.rds
- gva_data_ch.rds
- ilo.rds
- labprod.rds
- map_data.rds
- numpat_data.rds
- trad_data.rds
- cieb.png
runtime: shiny
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(shiny)
library(ggplot2)
library(xtable)
library(DT)
library(viridis)
library(RColorBrewer)
library(knitr)
library(png)
library(cowplot)
library(plotly)
library(viridis)
library(autoimage)
library(shinyWidgets)
library(plyr)
library(dplyr)
library(data.table)
library(countrycode)
library(igraph)
library(visNetwork)
source_rmd <- function(rmd_file){
  knitr::knit(rmd_file, output = tempfile())
}
```

```{r context="data", echo=FALSE}

# Load data on patent counts / prepared in section_II/prep_report.R
numpat_data <- readRDS("numpat_data.rds")

# Load data on labor productivity / prepared in section_II/prep_report.R
labprod <- readRDS("labprod.rds")

# Load data on employment / prepared in section_II/prep_report.R
ilo <- readRDS("ilo.rds")

# Load GVA data 
gva <- readRDS("gva_data_ch.rds")

# Load data on exports / prepared in section_II/prep_report.R
volumes <- readRDS("trad_data.rds")
map_world <- readRDS("map_data.rds")

# Load citation-flow data  / prepared in section_II/prep_report.R
citflow_ctry <- readRDS("citflow_ctry.rds")
```	

<!-- <head> -->
<!-- <!-- Global site tag (gtag.js) - Google Analytics --> -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-71167447-1"></script> -->
<!-- <script> -->
<!--   window.dataLayer = window.dataLayer || []; -->
<!--   function gtag(){dataLayer.push(arguments);} -->
<!--   gtag('js', new Date()); -->
<!--   gtag('config', 'UA-71167447-1'); -->
<!-- </script> -->
<!-- </head> -->


<br>

<a href="http://cieb.unibas.ch/" target = "_blank">![Foo](cieb.png){ width=30% }</a>


## <font color='#68838B'>**Cross-border commuting and inventions 'Made in Switzerland'**</font>

*October 2020* by <a href="https://wwz.unibas.ch/de/personen/dragan-filimonovic/" target = "_blank">Dragan Filimonovic</a>, <a href="https://wwz.unibas.ch/de/personen/matthias-niggli/" target = "_blank">Matthias Niggli</a> and <a href="https://wwz.unibas.ch/de/personen/christian-rutzer/" target = "_blank">Christian Rutzer</a>  


<br>
<br>

#### <font color='grey'> **Development of the Pharma Sector in Switzerland ** </font>


<br>
<br>



### Value added
```{r, echo = F, child = file.path(knitr::opts_knit$get("output.dir"), "gva_output.Rmd")}
```

### Employment
```{r, echo = F, child = file.path(knitr::opts_knit$get("output.dir"), "emp_output.Rmd")}
```

### Labor productivity
```{r, echo = F, child = file.path(knitr::opts_knit$get("output.dir"), "labprod_output.Rmd")}
```

### Exports
```{r, echo = F, child = file.path(knitr::opts_knit$get("output.dir"), "export_output.Rmd")}
```

## {.tabset}

### Continents

```{r, echo = F, child = file.path(knitr::opts_knit$get("output.dir"), "conti_func.RMD")}
```

HERE short description of the findings at the continent level


### Countries

```{r, echo = F, child  = file.path(knitr::opts_knit$get("output.dir"), "ctry_func.Rmd")}
```




HERE short description of the findings at the country level


### Regions

```{r, echo = F, child  = file.path(knitr::opts_knit$get("output.dir"),'regio_func.Rmd')}
```


HERE short description of the findings at the regional level

## {.unlisted .unnumbered}

<!-- ### Patent count and shares -->
<!-- ```{r, echo = F, child = file.path(knitr::opts_knit$get("output.dir"), "numpat_output.Rmd")} -->
<!-- ``` -->

### Citations
```{r, echo = F, child = file.path(knitr::opts_knit$get("output.dir"), "citnetwork_output.Rmd")}
```

